<app-header-client></app-header-client>

<div id="content" class="container mt-3">
    <div class="card bg-light">
        <div class="card-body mx-auto ">
            <p class="card-title text-center mt-1">Ingresar Solicitud de Servicio</p>
            <hr>
            <form class="example-form" [formGroup]="addUserRequestForm" #formDir="ngForm" (ngSubmit)="addRequestClient()" autocomplete="off">
                <div class="form-group mx-auto mb-2">

                    <!-- <mat-label>N° de Solicitud: </mat-label> -->
                    <!-- <div class="d-block justify-content-center">
                        <p>N° de Solicitud: #</p> 
                    </div> -->

                    <mat-form-field class="example-full-width">
                        <mat-label>Descripción</mat-label>
                        <textarea maxlength="255" minlength="5" type="text" formControlName="description" matInput placeholder="Dificultades técnicas"></textarea>
                        <mat-hint class="text-danger" *ngIf="addUserRequestForm.hasError('pattern', 'description') 
                            || addUserRequestForm.hasError('minlength', 'description')
                            || addUserRequestForm.hasError('maxlength', 'description')
                            && formDir.submitted">
                          *Campo inválido
                        </mat-hint>
                    </mat-form-field>


                    <mat-form-field class="example-full-width">
                        <mat-label>Télefono</mat-label>
                        <input maxlength="8" type="tel" formControlName="phone" matInput>
                        <mat-hint align="end">Opcional</mat-hint>
                        <mat-hint class="text-danger" *ngIf="addUserRequestForm.hasError('required', 'phone') && formDir.submitted">
                            *Campo requerido
                        </mat-hint>
                        <mat-hint class="text-danger" *ngIf="addUserRequestForm.hasError('minlength', 'phone')
                            || addUserRequestForm.hasError('maxlength', 'phone')
                            || addUserRequestForm.hasError('pattern', 'phone')
                            && formDir.submitted">
                                *Télefono invalido
                        </mat-hint>
                    </mat-form-field>

                    <mat-form-field class="example-full-width">
                        <mat-label>Email</mat-label>
                        <input maxlength="320" type="email" formControlName="email" matInput>
                        <mat-hint align="end">Opcional</mat-hint>
                        <mat-hint class="text-danger" *ngIf="addUserRequestForm.hasError('pattern', 'email') 
                                || addUserRequestForm.hasError('minlength', 'email')
                                || addUserRequestForm.hasError('maxlength', 'email')
                                && formDir.submitted">
                            *Correo inválido
                        </mat-hint>
                    </mat-form-field>


                    <mat-form-field class="example-full-width">
                        <mat-label>Dirección</mat-label>
                        <input maxlength="255" minlength="20" type="text" formControlName="address" matInput>
                        <mat-hint align="end">Opcional</mat-hint>
                    </mat-form-field>

                    <br>
                    <br>

                    <div class="form-group mb-2" formGroupName="servicesCheckboxGroup">
                        <mat-label>Escoja los servicios: </mat-label>
                        <section class="example-section">
                            <mat-checkbox class="example-margin" color="primary" formControlName="mobilePhone">Telefonía movil</mat-checkbox>
                            <mat-checkbox class="example-margin" color="primary" formControlName="channel">Cable</mat-checkbox>
                            <mat-checkbox class="example-margin" color="primary" formControlName="internet">Internet</mat-checkbox>
                            <mat-checkbox class="example-margin" color="primary" formControlName="fixedTelephony">Telefonía fija</mat-checkbox>
                        </section>
                        <mat-hint class="text-danger service-alert"
                        *ngIf="addUserRequestForm.controls['servicesCheckboxGroup'].errors && addUserRequestForm.controls['servicesCheckboxGroup'].errors.requireCheckboxesToBeChecked">
                        <small>*Elija al menos un servicio</small></mat-hint>
                        
                    </div>
                    <!-- <div class="d-block justify-content-center">
                         <p>PIPE TODAY:: {{today | date:'dd-MM-yyyy hh:mm:ss a':'GMT-6'}}</p> 
                        <p>Fecha Actual: {{jstoday}}</p>
                        <p>Estado de Solicitud: #</p> 
                    </div> -->
                    <hr>
                    <div class="d-flex justify-content-center">
                        <button type="submit" class="bg-primary text-white mb-3" mat-raised-button>Aceptar</button>
                        <button type="submit" class="bg-danger  text-white mb-3" id="button_cancel" (click)="clear()" mat-raised-button>Cancelar</button>
                    </div>

                </div>
            </form>
        </div>
    </div>
</div>
